<!DOCTYPE html>
<html lang="en">
<head>
    <!-- 引入刚刚下载的 ECharts 文件 -->
    <script src="/static/assets/js/echarts.min.js"></script>
    <meta charset="UTF-8">
    <title>Olympic Games</title>
</head>
<body>

<!-- 为 ECharts 准备一个定义了宽高的 DOM -->
<div id="main" style="width:100%;height:900px;"></div>

<script type="text/javascript">
    var app = {};
    var chartDom = document.getElementById('main');
    var myChart = echarts.init(chartDom);
    var option;
    var data = [{
        name: "各国",
        itemStyle: {
            fontsize: 20,
            color: '#76c0cb'
        },
        children: [
            {% for list in relist %}
                {
                    name: '{{ list.name }}',
                    itemStyle: {
                        fontsize: 20,
                        color: '{{ list.itemStyle }}'
                    },
                    children: [

                        {% for list2 in list.children %}
                            {
                                name: '{{list2.name}}',
                                value: 1,
                                itemStyle: {
                                    color: '{{list2.itemStyle}}'
                                }
                            },
                        {% endfor %}
                    ]
                },
            {% endfor %}
        ]
    }
    ]


    option = {
        title: {
            text: '举办国家分布图',
            subtext: '在已经举办的53届运动会中，美国共举办过8次，法国5次，日本4次暂列第三',
            textStyle: {
                fontSize: 25,
                align: 'center'
            },
            subtextStyle: {
                align: 'center'
            },
            sublink: 'https://worldcoffeeresearch.org/work/sensory-lexicon/'
        },
        series: {
            type: 'sunburst',
            data: data,
            radius: [0, '95%'],
            sort: undefined,
            emphasis: {
                focus: 'ancestor'
            },
            levels: [
                {},
                {
                    r0: '10%',
                    r: '25%',
                    itemStyle: {
                        borderWidth: 2
                    },
                    label: {
                        rotate: 'tangential'
                    }
                },
                {
                    r0: '25%',
                    r: '60%',
                    label: {
                        align: 'right'
                    }
                },
                {
                    r0: '60%',
                    r: '62%',
                    label: {
                        position: 'outside',
                        padding: 3,
                        silent: false
                    },
                    itemStyle: {
                        borderWidth: 3
                    }
                }
            ],
            label: {
                normal: {
                    show: true,
                    formatter: '{b}: {c}' //自定义显示格式(b:name, c:value, )
                }
            }
        },
        textStyle: {
            fontSize: '100%'
        }
    };

    option && myChart.setOption(option);
</script>


</body>
</html>